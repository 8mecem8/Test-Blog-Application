{"version":3,"sources":["components/Blog.js","services/blogs.js","services/login.js","services/setto.js","App.js","index.js"],"names":["Blog","blog","title","author","axios","get","then","response","data","loginService","credentials","a","post","token","setToken","newToken","App","useState","blogs","setBlogs","errorMessage","setErrorMessage","username","setUsername","password","setPassword","user","setUser","useEffect","blogService","loggedUserJSON","window","localStorage","getItem","undefined","console","log","JSON","parse","noteService","handleLogin","event","preventDefault","setItem","stringify","setTimeout","Alert","className","postNewBlog","newBlogContent","document","getElementById","value","url","config","headers","Authorization","re","catch","err","onSubmit","type","name","onChange","target","onClick","removeItem","id","placeholder","map","key","ReactDOM","render"],"mappings":"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","file":"static/js/main.cf0fc517.chunk.js","sourcesContent":["import React from 'react'\r\nconst Blog = ({ blog }) => (\r\n  <div>\r\n    {blog.title} {blog.author}\r\n  </div>\r\n)\r\n\r\nexport default Blog\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst postBlog = (newContent, config) => {\r\n  const requestBlog = axios.post(baseUrl,newContent,config)\r\n  return requestBlog.then( response => response.data)\r\n  \r\n}\r\n\r\nexport default { getAll,postBlog }","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst loginService = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n} \r\n\r\n\r\n\r\nexport default  loginService","export let token = null\r\n\r\n function setToken(newToken)  {\r\n  token = `bearer ${newToken}`\r\n  \r\n}\r\n\r\n\r\n\r\nexport default setToken","import React, { useState, useEffect } from 'react'\r\nimport Blog from './components/Blog'\r\nimport blogService from './services/blogs'\r\nimport loginService from './services/login'\r\nimport noteService from './services/setto'\r\nimport {token} from './services/setto'\r\nimport axios from 'axios'\r\n\r\n\r\n\r\n\r\nconst App = () => {\r\n  const [blogs, setBlogs] = useState([])\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [username, setUsername] = useState('') \r\n  const [password, setPassword] = useState('') \r\n  const [user, setUser] = useState(null) //{'name': 'zafer'}\r\n  \r\n\r\n\r\n\r\n  useEffect(() => {\r\n    blogService.getAll().then(blogs =>\r\n      setBlogs( blogs )\r\n    )  \r\n  }, [])\r\n\r\n\r\nuseEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedNoteappUser')\r\n      if (loggedUserJSON === undefined) {console.log('loggedUserJSON is undefined')}\r\n\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      setUser(user)\r\n      noteService(user.token)\r\n    }\r\n  }, [])\r\n\r\n\r\n\r\n\r\n\r\nconst handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    \r\n    \r\n   try {\r\n      const user = await loginService({username, password,})\r\n\r\n          console.log('user in handlelogin ===',user)\r\n\r\n\r\n      window.localStorage.setItem(\r\n        'loggedNoteappUser', JSON.stringify(user)\r\n      ) \r\n      \r\n      noteService(user.token)\r\n      setUser(user)\r\n      setUsername('')\r\n      setPassword('')\r\n    } \r\n    \r\n    \r\n    catch (exception)\r\n     {\r\n      setErrorMessage('Wrong credentials')\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n    }}\r\n//-----------------------------------------------------------------\r\n\r\n\r\nconst Alert = () => {\r\n\r\n if(errorMessage === ('')) {\r\n\r\n  return <div></div>\r\n \r\n }\r\n \r\n else {\r\n\r\nreturn (\r\n    <div className='error'>\r\n      \r\n      {errorMessage}\r\n    \r\n      \r\n    </div>\r\n  )\r\n}\r\n}\r\n\r\n//------------------------------------------------------------------\r\n const postNewBlog = () => {\r\n             \r\n      const newBlogContent = {\r\n          title: document.getElementById('inputTitle').value,\r\n          author: document.getElementById('inputAuthor').value,\r\n          url: document.getElementById('inputUrl').value,\r\n          }\r\n\r\n\r\n               const config = {\r\n    headers: { Authorization: token}}\r\n\r\n       axios.post('api/blogs',newBlogContent,config)                                  //blogService.postBlog(newBlogContent,config)\r\n      .then(re => console.log(re))\r\n      .catch(err => setErrorMessage(`Posting Blog ='${newBlogContent.title}' has not done `), setTimeout(() => {setErrorMessage('')}, 5000))\r\n                    //console.log('newBlogContent is ===',newBlogContent)\r\n                    //console.log(' config is ====== ',config)\r\n }\r\n\r\n\r\n//--------------------------------------------------------------------\r\n\r\nconst loginForm = () => (\r\n        <form onSubmit={handleLogin}>\r\n\r\n        <div>\r\n      <h2>\r\n        Log in to application\r\n      </h2>      \r\n      </div>\r\n       \r\n\r\n\r\n        <div>\r\n          username:\r\n            &nbsp;\r\n            <input\r\n            type=\"text\"\r\n            value={username}\r\n            name=\"Username\"\r\n            onChange={({ target }) => setUsername(target.value)}\r\n        />\r\n        </div>\r\n        <br/>\r\n        <div>\r\n           password:\r\n            &nbsp;\r\n            <input\r\n            type=\"password\"\r\n            value={password}\r\n            name=\"Password\"\r\n            onChange={({ target }) => setPassword(target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">login</button>\r\n      </form>\r\n      )\r\n\r\n//--------------------------------------------------------------------------\r\n\r\nconst mainContent = () => (\r\n\r\n <div>\r\n      <h1>Blogs</h1>\r\n        <Alert/>\r\n      \r\n      <form onSubmit={postNewBlog}>\r\n        <div>Title:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input id='inputTitle' placeholder='Example The sky is blue'></input></div>&nbsp;\r\n        <div>Author: &nbsp;<input id='inputAuthor' placeholder='Example John wick'></input></div>&nbsp;\r\n        <div>Url:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input id='inputUrl' placeholder='Example www.zurna.com'></input></div>&nbsp;<br/> \r\n       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <button>Create</button>\r\n      </form>\r\n          <br/><br/>\r\n          <h2>Blogs Content</h2>\r\n      {blogs.map(blog =>\r\n        <Blog key={blog.id} blog={blog} />\r\n      )}\r\n    </div>\r\n\r\n)\r\n\r\n//---------------------------------------------------------------------------\r\n\r\n\r\n  return (\r\n    \r\n    ( user === null ?\r\n       (loginForm()):\r\n\r\n\r\n        <div>\r\n           \r\n        <p><button onClick={() => {setUser(null); window.localStorage.removeItem('loggedNoteappUser') }}>Log out</button>&nbsp;&nbsp;&nbsp;{user.name} <span>Logged in</span> </p>\r\n       {mainContent()}\r\n        </div>\r\n      \r\n      )\r\n\r\n\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}